<!DOCTYPE html>
<html lang="ko">
  <head>
    <%- include('./includes/head.ejs') %>
    <link rel="stylesheet" href="/css/pages/home.css" />
  </head>

  <body>
    <%- include('./includes/header.ejs') %>
    <main class="main">
      <section aria-label="메인 슬라이드">
        <div class="slide-container">
          <figure class="slide slide01"></figure>
          <figure class="slide slide02"></figure>
          <figure class="slide slide03"></figure>
        </div>
        <div class="slide-pagination"></div>
      </section>
      <div class="container">
        <section aria-label="신상품 추천 슬라이드">
          <h2>새로 나왔어요</h2>
          <div class="product-slider">
            <div id="newProductList"></div>
            <button class="slider-button prev"></button>
            <button class="slider-button next"></button>
          </div>
        </section>
        <section aria-label="메인 배너">
          <figure class="main-banner">
            <a href="/product/123">
              <img src="/img/main_banner.jpg" alt="Main banner description" />
            </a>
          </figure>
        </section>
        <% if (recommendedProducts.length > 0) { %>
        <section aria-label="웹 개발 추천 도서" class="recommand-books">
          <h2 class="recommand-books__title">웹 개발 추천 도서</h2>
          <ul class="recommand-books__list">
            <% for (const product of recommendedProducts) { %>
            <li class="product-item">
              <a href="/product/<%= product._id %>">
                <img src="<%= product.imageUrl %>" alt="<%= product.title %>" />
                <div class="product-item__info">
                  <strong class="product-item__category">
                    <%= product.subCategories.map(category =>
                    category.name).join(', ') %>
                  </strong>
                  <h4 class="product-item__title"><%= product.title %></h4>
                  <p class="product-item__price">
                    <%= product.price.toLocaleString() %>원
                  </p>
                </div>
              </a>
            </li>
            <% } %>
          </ul>
        </section>
        <% } %>
      </div>
    </main>
    <%- include('./includes/scroll-top-btn.ejs') %> <%-
    include('./includes/footer.ejs') %>
    <script></script>
  </body>
</html>
